Version 4
SHEET 1 1684 680
WIRE 560 -32 528 -32
WIRE 464 0 464 -32
WIRE 464 0 416 0
WIRE 560 0 560 -32
WIRE 656 0 560 0
WIRE 896 0 832 0
WIRE 1056 0 976 0
WIRE 1280 16 1280 -32
WIRE 464 48 464 0
WIRE 560 48 560 0
WIRE 560 48 544 48
WIRE 1280 96 1216 96
WIRE 1280 112 1280 96
WIRE 576 160 560 160
WIRE 992 160 976 160
WIRE 432 176 384 176
WIRE 448 176 432 176
WIRE 848 176 816 176
WIRE 576 192 560 192
WIRE 992 192 976 192
WIRE 400 208 304 208
WIRE 416 208 416 0
WIRE 416 208 400 208
WIRE 432 208 416 208
WIRE 832 208 832 0
WIRE 832 208 752 208
WIRE 848 208 832 208
WIRE 864 208 848 208
WIRE 240 224 176 224
WIRE 592 224 560 224
WIRE 656 224 656 0
WIRE 656 224 592 224
WIRE 752 224 752 208
WIRE 752 224 736 224
WIRE 1056 224 1056 0
WIRE 1056 224 976 224
WIRE 1072 224 1056 224
WIRE 320 240 304 240
WIRE 1280 240 1280 192
WIRE 1280 240 1248 240
WIRE 1344 240 1280 240
WIRE 176 256 176 224
WIRE 592 256 592 224
WIRE 1536 288 1536 256
WIRE 1280 320 1280 240
WIRE 1344 320 1344 240
WIRE 176 384 176 336
WIRE 320 384 320 240
WIRE 320 384 176 384
WIRE 720 384 320 384
WIRE 752 384 752 288
WIRE 752 384 720 384
WIRE 1312 384 1280 384
WIRE 1344 384 1312 384
WIRE 720 400 720 384
WIRE 1312 400 1312 384
WIRE 1536 400 1536 368
FLAG 720 400 0
FLAG 592 256 Vout1
IOPIN 592 256 Out
FLAG 400 208 V-
FLAG 1072 224 Vout2
IOPIN 1072 224 Out
FLAG 1536 256 V+
IOPIN 1536 256 Out
FLAG 992 160 V+
IOPIN 992 160 In
FLAG 992 192 0
FLAG 576 160 V+
IOPIN 576 160 In
FLAG 576 192 0
FLAG 1536 400 0
FLAG 1280 -32 V+
IOPIN 1280 -32 In
FLAG 1216 96 Vr2
IOPIN 1216 96 Out
FLAG 1248 240 Vr1
IOPIN 1248 240 Out
FLAG 384 176 Vr1
IOPIN 384 176 In
FLAG 816 176 Vr2
IOPIN 816 176 In
FLAG 1312 400 0
SYMBOL Misc/battery 1536 272 R0
SYMATTR InstName V1
SYMATTR Value 5
SYMBOL res 560 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 33 53 VTop 2
SYMATTR InstName R1
SYMATTR Value 1000k
SYMBOL cap 528 -48 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 0.18n
SYMBOL res 1264 96 R0
SYMATTR InstName R4
SYMATTR Value 2.6k
SYMBOL diode 1264 320 R0
WINDOW 3 -96 32 Left 2
SYMATTR Value 1N4148
SYMATTR InstName D1
SYMBOL res 640 240 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 736 224 R0
SYMATTR InstName C4
SYMATTR Value 18nF
SYMBOL res 992 -16 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 30k
SYMBOL cap 1328 320 R0
SYMATTR InstName C3
SYMATTR Value 1µ
SYMBOL voltage 176 240 R0
WINDOW 0 -61 11 Left 2
WINDOW 123 24 118 Left 2
SYMATTR InstName Vpwr
SYMATTR Value2 AC 1u
SYMATTR Value 1µ
SYMBOL AutoGenerated/BPW21 272 224 R0
SYMATTR InstName U4
SYMBOL AutoGenerated/OPA140 912 192 R0
SYMATTR InstName U3
SYMBOL AutoGenerated/OPA140 496 192 R0
SYMATTR InstName U1
SYMBOL res 1264 0 R0
SYMATTR InstName R6
SYMATTR Value 15k
TEXT 1128 -256 Left 2 !.INCLUDE opamp.sub\n# Sweep of power. Note that input is in W, not V\n.DC Vpwr 0 3u 0.3u\n# Frequency response\n#.AC dec 50 1 1000\n#.NOISE V(Vout2) Vpwr lin 50 0.1 1000\n#.MEAS NOISE out_totn INTEG V(onoise)
TEXT 448 -96 Left 2 ;2piRC=1/860Hz
TEXT 144 456 Left 2 ;Subcircuit U3 simulates photodiode BPW21. Input is in W (not V).
